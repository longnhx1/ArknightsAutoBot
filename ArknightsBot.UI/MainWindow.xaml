<hc:Window x:Class="ArknightsBot.UI.MainWindow"
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
           xmlns:hc="https://handyorg.github.io/handycontrol"
           Title="Arknights Auto Bot Pro" Height="550" Width="700"
           WindowStartupLocation="CenterScreen" ResizeMode="CanMinimize"
           ShowTitle="True">

    <Grid>
        <hc:TabControl IsAnimationEnabled="True">

            <hc:TabItem>
                <hc:TabItem.Header>
                    <StackPanel Orientation="Horizontal">
                        <Path Data="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z" 
                              Fill="{DynamicResource PrimaryBrush}" Height="14" Width="14" Stretch="Uniform" Margin="0,0,8,0"/>
                        <TextBlock Text="Trang chủ"/>
                    </StackPanel>
                </hc:TabItem.Header>

                <Grid Margin="16">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <hc:Card Grid.Row="0" BorderThickness="0" Effect="{StaticResource EffectShadow2}" Margin="0,0,0,20">
                        <Border Background="{DynamicResource RegionBrush}" CornerRadius="10" Padding="20">
                            <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
                                <TextBlock Text="SỐ TRẬN ĐÃ FARM" FontSize="14" Foreground="Gray" HorizontalAlignment="Center"/>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                                    <TextBlock Name="lblCounter" Text="0" FontSize="48" FontWeight="Bold" Foreground="{DynamicResource PrimaryBrush}"/>
                                    <TextBlock Text=" trận" FontSize="20" VerticalAlignment="Bottom" Margin="5,0,0,8" Foreground="Gray"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </hc:Card>

                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,20">
                        <Button Name="btnStart" Click="BtnStart_Click"
                                Style="{StaticResource ButtonSuccess}" 
                                Height="50" Width="200" Margin="0,0,15,0">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <Path Data="M8,5.14V19.14L19,12.14L8,5.14Z" 
                                      Fill="White" Stretch="Uniform" Height="16" Width="16" Margin="0,0,10,0"/>
                                <TextBlock Text="BẮT ĐẦU TREO" FontSize="16" FontWeight="Bold" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <Button Name="btnStop" Click="BtnStop_Click"
                                Style="{StaticResource ButtonDanger}" 
                                Height="50" Width="200" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <Path Data="M6,6H18V18H6V6Z" 
                                      Fill="White" Stretch="Uniform" Height="16" Width="16" Margin="0,0,10,0"/>
                                <TextBlock Text="DỪNG LẠI" FontSize="16" FontWeight="Bold" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>

                    <hc:Card Grid.Row="2" BorderThickness="0" Effect="{StaticResource EffectShadow2}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Label Content="Nhật ký hoạt động" FontWeight="Bold" Background="{DynamicResource SecondaryRegionBrush}" Padding="10,5"/>
                            <TextBox Grid.Row="1" Name="txtLog" Style="{StaticResource TextBoxExtend}" IsReadOnly="True" 
                                     VerticalScrollBarVisibility="Auto" TextWrapping="Wrap" Padding="10"
                                     FontFamily="Consolas" Background="#1E1E1E" Foreground="#00FF00" BorderThickness="0"/>
                        </Grid>
                    </hc:Card>
                </Grid>
            </hc:TabItem>

            <hc:TabItem>
                <hc:TabItem.Header>
                    <StackPanel Orientation="Horizontal">
                        <Path Data="M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.04 4.95,18.95L7.44,17.95C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.95L19.05,18.95C19.27,19.04 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" 
                              Fill="{DynamicResource PrimaryBrush}" Height="14" Width="14" Stretch="Uniform" Margin="0,0,8,0"/>
                        <TextBlock Text="Cấu hình Delay"/>
                    </StackPanel>
                </hc:TabItem.Header>

                <StackPanel Margin="30">
                    <TextBlock Text="Cấu hình Hệ thống" FontSize="18" FontWeight="Bold" Margin="0,0,0,20" HorizontalAlignment="Center"/>

                    <hc:ElementGroup Orientation="Horizontal" Layout="Stack" Margin="0,0,0,20">
                        <Label Content="Địa chỉ kết nối ADB (Host:Port):" Width="250" VerticalAlignment="Center"/>
                        <TextBox Name="txtAdbAddress" Text="127.0.0.1:7555" Width="200"/>
                    </hc:ElementGroup>
                    <hc:ElementGroup Orientation="Horizontal" Layout="Stack" Margin="0,0,0,10">
                        <Label Content="Đường dẫn file ADB.exe (Của MAA):" Width="250" VerticalAlignment="Center"/>
                        <TextBox Name="txtAdbPath" Width="200" ToolTip="Dán đường dẫn adb.exe của MAA vào đây để tránh xung đột"/>
                    </hc:ElementGroup>

                    <TextBlock Text="Thời gian nghỉ (Delay)" FontSize="16" FontWeight="Bold" Margin="0,0,0,10" Foreground="Gray"/>

                    <hc:ElementGroup Orientation="Horizontal" Layout="Stack" Margin="0,0,0,10">
                        <Label Content="Sau khi bấm 'Bắt đầu' (Xanh):" Width="250" VerticalAlignment="Center"/>
                        <hc:NumericUpDown Name="numStart" Value="2" Minimum="0" Maximum="10" Increment="0.5" Width="100"/>
                    </hc:ElementGroup>

                    <hc:ElementGroup Orientation="Horizontal" Layout="Stack" Margin="0,0,0,10">
                        <Label Content="Sau khi bấm 'Vào trận' (Đỏ):" Width="250" VerticalAlignment="Center"/>
                        <hc:NumericUpDown Name="numSquad" Value="5" Minimum="0" Maximum="20" Increment="0.5" Width="100"/>
                    </hc:ElementGroup>

                    <hc:ElementGroup Orientation="Horizontal" Layout="Stack" Margin="0,0,0,10">
                        <Label Content="Sau khi bấm 'Cài đặt' (Gear):" Width="250" VerticalAlignment="Center"/>
                        <hc:NumericUpDown Name="numSettings" Value="2" Minimum="0" Maximum="10" Increment="0.5" Width="100"/>
                    </hc:ElementGroup>

                    <hc:ElementGroup Orientation="Horizontal" Layout="Stack" Margin="0,0,0,10">
                        <Label Content="Sau khi bấm 'Đầu hàng':" Width="250" VerticalAlignment="Center"/>
                        <hc:NumericUpDown Name="numRetreat" Value="1.5" Minimum="0" Maximum="10" Increment="0.5" Width="100"/>
                    </hc:ElementGroup>

                    <hc:ElementGroup Orientation="Horizontal" Layout="Stack" Margin="0,0,0,20">
                        <Label Content="Sau khi bấm 'Xác nhận' (Tick):" Width="250" VerticalAlignment="Center"/>
                        <hc:NumericUpDown Name="numConfirm" Value="4" Minimum="0" Maximum="15" Increment="0.5" Width="100"/>
                    </hc:ElementGroup>

                    <Button Content="LƯU CẤU HÌNH" Click="BtnSave_Click" Style="{StaticResource ButtonPrimary}" Width="200" HorizontalAlignment="Center"/>
                </StackPanel>
            </hc:TabItem>
        </hc:TabControl>
    </Grid>
</hc:Window>